var sync_wrangler = require('../lib/sync-wrangler.js');

exports['awesome'] = {
  setUp: function(done) {
    // setup here
    done();
  },
  'no args': function(test) {
    test.expect(1);
    // tests here
    test.equal(sync_wrangler.awesome(), 'awesome', 'should be awesome.');
    test.done();
  }
};

exports['config'] = {
  setUp: function(done) {
    // setup here
    done();
  },
  'config': function(test) {
    test.expect(1);
    // tests here
    var config = {
      gateway : "http://localhost:4984",
      bucket : "test-wrangler",
      database : "test-wrangler",
      auth : "http://localhost:4985",
      guest : false,
      state : __dirname + "/test-wrangler-tmp.json"
    };
    sync_wrangler.config({}, function(err, server) {
      test.equal(typeof server.changes, 'function',
        'should be an event emitter.');
      test.done();
    });
  }
};
